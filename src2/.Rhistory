# set wd
wd = dirname(rstudioapi::getActiveDocumentContext()$path); wd
setwd(wd)
# eerst alle data apart inlezen van Gent, Antwerpen en Brussel
gent = read.csv("listingsGent.csv", header = TRUE, sep = ",", dec = ".")
gent
antwerpen = read.csv("listingsAntwerpen.csv", header = TRUE, sep = ",", dec = ".")
antwerpen$city = "Antwerpen"
brussel = read.csv("listingsBrussel.csv", header = TRUE, sep = ",", dec = ".")
brussel$city = "Brussel"
# merge de 3 data frames tesamen
airbnb = merge(gent, antwerpen, all = TRUE)
airbnb = merge(airbnb, brussel, all = TRUE)
# test of dat alle rows van de drie data frames in de nieuwe dataframe zitten
#   naive test, enkel op aantal rijen gebaseerd
nrow(airbnb) == (nrow(gent) + nrow(antwerpen) + nrow(brussel))
attributes(airbnb)$names
table(airbnb$city)
# merge de 3 data frames tesamen
airbnb = merge(gent, antwerpen, all = TRUE)
airbnb = merge(airbnb, brussel, all = TRUE)
table(airbnb$city)
unique(airbnb$city)
# merge de 3 data frames tesamen
airbnb = merge(gent, antwerpen, all = TRUE)
table(airbnb$city)
# eerst alle data apart inlezen van Gent, Antwerpen en Brussel
gent = read.csv("listingsGent.csv", header = TRUE, sep = ",", dec = ".")
gent$city = "Gent"
gent$city
antwerpen = read.csv("listingsAntwerpen.csv", header = TRUE, sep = ",", dec = ".")
antwerpen$city = "Antwerpen"
brussel = read.csv("listingsBrussel.csv", header = TRUE, sep = ",", dec = ".")
brussel$city = "Brussel"
gent$city
brussel$city
antwerpen$city
table(data.frame(gent,antwerpen, brussel))
append(gent, antwerpen)
append(gent, antwerpen)$city
com = append(gent, antwerpen, brussel)
append(gent, antwerpen)
table(com$city)
com = append(gent, antwerpen)
table(com$city)
com = data.frame(gent, antwerpen, brussel)
boxplot(gent)
com = merge(gent, antwerpen, by = city, all = true)
com = merge(gent, antwerpen, by = gent$city, all = true)
com = merge(gent, antwerpen, by = "city", all = true)
com = merge(gent, antwerpen, by = "city", all = True)
com = merge(gent, antwerpen, by = "city", all = TRUE)
com = merge(com, brussel, by = "city", all = TRUE)
table(com$city)
names(com)
# merge de 3 data frames tesamen
# by is nodig om geen NAs te hebben
airbnb = merge(gent, antwerpen, by = "city", all = TRUE)
airbnb = merge(airbnb, brussel, by = "city", all = TRUE)
head(airbnb)
# merge de 3 data frames tesamen
# TODO: werkt niet, zoek op eens geland...
airbnb = merge(gent, antwerpen, by = "city", all = TRUE)
airbnb = merge(airbnb, brussel, by = "city", all = TRUE)
# test of dat alle rows van de drie data frames in de nieuwe dataframe zitten
#   naive test, enkel op aantal rijen gebaseerd
nrow(airbnb) == (nrow(gent) + nrow(antwerpen) + nrow(brussel))
rbind(gent, antwerpen, brussel)
com = rbind(gent, antwerpen, brussel)
names(com)
names(gent)
# eerst alle data apart inlezen van Gent, Antwerpen en Brussel
gent = read.csv("listingsGent.csv", header = TRUE, sep = ",", dec = ".")
gent$city = "Gent"
antwerpen = read.csv("listingsAntwerpen.csv", header = TRUE, sep = ",", dec = ".")
antwerpen$city = "Antwerpen"
brussel = read.csv("listingsBrussel.csv", header = TRUE, sep = ",", dec = ".")
brussel$city = "Brussel"
com = rbind(gent, antwerpen, brussel)
names(com)
table(com$city)
table(com$id)
# eerst alle data apart inlezen van Gent, Antwerpen en Brussel
gent = read.csv("listingsGent.csv", header = TRUE, sep = ",", dec = ".")
com = rbind(gent, antwerpen, brussel)
# set wd
wd = dirname(rstudioapi::getActiveDocumentContext()$path); wd
setwd(wd)
# eerst alle data apart inlezen van Gent, Antwerpen en Brussel
gent = read.csv("listingsGent.csv", header = TRUE, sep = ",", dec = ".")
gent$city = "Gent"
antwerpen = read.csv("listingsAntwerpen.csv", header = TRUE, sep = ",", dec = ".")
antwerpen$city = "Antwerpen"
brussel = read.csv("listingsBrussel.csv", header = TRUE, sep = ",", dec = ".")
brussel$city = "Brussel"
# dataframes samenvoegen
airbnb = rbind(gent, antwerpen, brussel)
# test of dat alle rows van de drie data frames in de nieuwe dataframe zitten
#   naive test, enkel op aantal rijen gebaseerd
nrow(airbnb) == (nrow(gent) + nrow(antwerpen) + nrow(brussel))
airbnb[airbnb$city == "gent"] == gent
airbnb[airbnb$city == "gent"]
airbnb[airbnb$city == "gent",] == gent
airbnb[airbnb$city == "gent",]
airbnb[airbnb$city == "gent",1]
airbnb[airbnb$city == "gent",1:8]
airbnb[airbnb$city == "Gent",1:8]
airbnb[airbnb$city == "Gent",] == gent
names(airbnb[airbnb$city == "Gent",]) == ; names(gent)
names(airbnb[airbnb$city == "Gent",]) ; names(gent)
nrows(airbnb[airbnb$city == "Gent",])
nrow(airbnb[airbnb$city == "Gent",]) ; nrow(gent)
comp = airbnb[airbnb$city == "Gent",]
comp == gent
equalDataframes <- function(frame1, frame2){
ret = TRUE
for (x in 1:ncol(frame1)) {
for (y in 1:nrow(frame1)) {
if(frame1[x,y] != frame2[x,y]) {ret = FALSE}
}
}
ret
}
equalDataframes(comp, gent)
head(comp); head(gent)
attributes(airbnb)$names
hist(airbnb$minimum_nights)
attach(airbnb)
nrow(airbnb$minimum_nights[airbnb$minimum_nights > 365])
nrow(airbnb$minimum_nights[airbnb$minimum_nights < 365])
names(airbnb)
nrow(airbnb$minimum_nights[airbnb$minimum_nights < 365,])
airbnb[airbnb$minimum_nights < 365,]
airbnb[airbnb$minimum_nights > 365,]
max( airbnb[airbnb$minimum_nights < 365,]$minimum_nights)
# price == 0 -> NA
airbnb$price[airbnb$price == 0] = NA
# minimum_nights > 365 -> NA
airbnb$minimum_nights[airbnb$minimum_nights > 365] = NA
airbnb[airbnb$minimum_nights > 365,]
table(airbnb$availability_365)
# Full == verhuurd == 0 dagen vrij
airbnb$full[airbnb$availability_365 == 365] = TRUE
table(airbnb$full)
# Full == verhuurd == 0 dagen vrij
airbnb$full = FALSE
table(airbnb$full)
# Full == verhuurd == 0 dagen vrij
airbnb$full = FALSE
airbnb$full[airbnb$availability_365 == 0] = TRUE
table(airbnb$full)
names(airbnb)
hist(airbnb$last_review)
head(airbnb$last_review)
# TODO!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
# last_review aanpassen brussel
datum = as.Date("2019-04-13");
airbnb$last_review[1] - datum
summary(datum)
datum
datum2 = as.Date("2019-04-16")
datum2 - datum1
datum2 - datum
as.integer(datum)
as.integer(datum2)
airbnb$last_review
airbnb$last_review == ""
# Full == verhuurd == 0 dagen vrij
airbnb$full = FALSE
airbnb$full[airbnb$availability_365 == 0] = TRUE
airbnb$last_review[airbnb$last_review == ""] = NA
# TODO!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
# last_review aanpassen brussel
datum = as.Date("2019-04-13");
airbnb$date_compiled[airbnb$city == "Brussel"] = as.Date(datum)
# last_review aanpassen Gent
datum = as.Date("2019-04-16")
airbnb$date_compiled[airbnb$city == "Gent"] = as.Date(datum)
# last_review aanpassen Antwerpen
datum = as.Date("2019-04-20");
airbnb$date_compiled[airbnb$city == "Antwerpen"] = as.Date(datum)
# TODO!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
# last_review aanpassen brussel
airbnb$date_compiled = as.Date("2019-04-13")
datum = as.Date("2019-04-13");
airbnb$date_compiled[airbnb$city == "Brussel"] = as.Date(datum)
# last_review aanpassen Gent
datum = as.Date("2019-04-16")
airbnb$date_compiled[airbnb$city == "Gent"] = as.Date(datum)
# last_review aanpassen Antwerpen
datum = as.Date("2019-04-20");
airbnb$date_compiled[airbnb$city == "Antwerpen"] = as.Date(datum)
NA - datum
# TODO!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
# last_review aanpassen brussel
airbnb$date_compiled = as.Date("2019-04-13")
datum = as.Date("2019-04-13");
airbnb$date_compiled[airbnb$city == "Brussel"] = as.Date(datum)
# last_review aanpassen Gent
datum = as.Date("2019-04-16")
airbnb$date_compiled[airbnb$city == "Gent"] = as.Date(datum)
# last_review aanpassen Antwerpen
datum = as.Date("2019-04-20");
airbnb$date_compiled[airbnb$city == "Antwerpen"] = as.Date(datum)
airbnb$last_review[is.na(airbnb$last_review)] = as.integer(airbnb$last_review[is.na(airbnb$last_review)]) - as.integer(airbnb$date_compiled[is.na(airbnb$last_review)])
table(airbnb$last_review)
as.integer(airbnb$last_review[is.na(airbnb$last_review)]) - as.integer(airbnb$date_compiled[is.na(airbnb$last_review)])
as.integer(airbnb$last_review[!is.na(airbnb$last_review)]) - as.integer(airbnb$date_compiled[!is.na(airbnb$last_review)])
table(airbnb$last_review)
table(airbnb$date_compiled)
histogram(as.integer(airbnb$last_review))
hist(as.integer(airbnb$last_review))
# set wd
wd = dirname(rstudioapi::getActiveDocumentContext()$path); wd
setwd(wd)
# eerst alle data apart inlezen van Gent, Antwerpen en Brussel
gent = read.csv("listingsGent.csv", header = TRUE, sep = ",", dec = ".")
gent$city = "Gent"
antwerpen = read.csv("listingsAntwerpen.csv", header = TRUE, sep = ",", dec = ".")
antwerpen$city = "Antwerpen"
brussel = read.csv("listingsBrussel.csv", header = TRUE, sep = ",", dec = ".")
brussel$city = "Brussel"
# dataframes samenvoegen
airbnb = rbind(gent, antwerpen, brussel)
# test of dat alle rows van de drie data frames in de nieuwe dataframe zitten
#   naive test, enkel op aantal rijen gebaseerd
nrow(airbnb) == (nrow(gent) + nrow(antwerpen) + nrow(brussel))
names(airbnb[airbnb$city == "Gent",]) ; names(gent)
nrow(airbnb[airbnb$city == "Gent",]) ; nrow(gent)
comp = airbnb[airbnb$city == "Gent",]
head(comp); head(gent)
attributes(airbnb)$names
# price == 0 -> NA
airbnb$price[airbnb$price == 0] = NA
# minimum_nights > 365 -> NA
airbnb$minimum_nights[airbnb$minimum_nights > 365] = NA
# Full == verhuurd == 0 dagen vrij
airbnb$full = FALSE
airbnb$full[airbnb$availability_365 == 0] = TRUE
airbnb$last_review[airbnb$last_review == ""] = NA
# TODO!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
# last_review aanpassen brussel
airbnb$date_compiled = as.Date("2019-04-13")
datum = as.Date("2019-04-13");
airbnb$date_compiled[airbnb$city == "Brussel"] = as.Date(datum)
# last_review aanpassen Gent
datum = as.Date("2019-04-16")
airbnb$date_compiled[airbnb$city == "Gent"] = as.Date(datum)
# last_review aanpassen Antwerpen
datum = as.Date("2019-04-20");
airbnb$date_compiled[airbnb$city == "Antwerpen"] = as.Date(datum)
as.integer(airbnb$last_review[!is.na(airbnb$last_review)]) - as.integer(airbnb$date_compiled[!is.na(airbnb$last_review)])
table(as.integer(airbnb$date_compiled))
plot(1:nrow(airbnb), as.integer(airbnb$last_review))
head(airbnb$last_review)
typeof(airbnb$last_review[1])
as.integer(airbnb$last_review[1])
as.date(airbnb$last_review[1])
date(airbnb$last_review[1])
as.Date(airbnb$last_review[1])
as.integer(as.Date(airbnb$last_review[1]))
airbnb$last_review = as.Date(airbnb$last_review)
nrow(airbnb$last_review[airbnb$last_review == NA])
nrow(airbnb$last_review[is.na(airbnb$last_review)])
is.na(airbnb$last_review)
airbnb$last_review = as.Date(airbnb$last_review)
# TODO!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
# last_review aanpassen brussel
airbnb$date_compiled = as.Date("2019-04-13")
datum = as.Date("2019-04-13");
airbnb$date_compiled[airbnb$city == "Brussel"] = as.Date(datum)
# last_review aanpassen Gent
datum = as.Date("2019-04-16")
airbnb$date_compiled[airbnb$city == "Gent"] = as.Date(datum)
# last_review aanpassen Antwerpen
datum = as.Date("2019-04-20");
airbnb$date_compiled[airbnb$city == "Antwerpen"] = as.Date(datum)
as.integer(airbnb$last_review[!is.na(airbnb$last_review)]) - as.integer(airbnb$date_compiled[!is.na(airbnb$last_review)])
as.integer(airbnb$date_compiled[!is.na(airbnb$last_review)]) - as.integer(airbnb$last_review[!is.na(airbnb$last_review)])
airbnb$last_review[is.na(airbnb$last_review)] =  as.integer(airbnb$date_compiled[!is.na(airbnb$last_review)]) - as.integer(airbnb$last_review[!is.na(airbnb$last_review)])
airbnb$last_review
as.integer(airbnb$last_review)
as.integer(airbnb$last_review) - 1
airbnb$last_review =  as.integer(airbnb$date_compiled) - as.integer(airbnb$last_review)
airbnb$last_review
attach(airbnb)
### Type verblijf
table(airbnb$room_type)
7487+3661+114
# wat shit van H14 erop toegepast
rt.lm = lm(price~room_type)
summary(rt.lm)
rt.an = anova(price~room_type)
rt.an = aov(price~room_type)
rt.an = aov(price~room_type)
summary(rt.an)
boxplot(price[room_type])
